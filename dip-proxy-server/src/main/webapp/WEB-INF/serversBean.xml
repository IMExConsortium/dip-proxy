<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="
      http://www.springframework.org/schema/beans 
      http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
    
      http://www.springframework.org/schema/tx 
      http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
      
      http://www.springframework.org/schema/aop 
      http://www.springframework.org/schema/aop/spring-aop-2.0.xsd">

 <!-- distributed hash configuration -->

 <bean id="dht" class="edu.ucla.mbi.proxy.router.Dht" 
       init-method="initialize" destroy-method="cleanup">
<!-- 
  <property name="overlayMode" value="networked" />
-->

  <property name="overlayMode" value="standalone" />

  <property name="routingAlgorithm">
    <value>Chord</value>
  </property>

  <property name="proxyPort">
    <value>50610</value>
  </property>

  <property name="bootServers">
    <list>
<!--     
     <value>10.1.1.204</value> 
     <value>10.1.1.205</value>
     <value>10.1.1.206</value>
     <value>10.1.1.207</value>
-->
     <value>128.97.39.180</value>
    </list>
  </property>

 </bean>

 <bean id="ebiDhtRouter" class="edu.ucla.mbi.proxy.router.DhtRouter">
  <property name="dht">
   <ref bean="dht"/>
  </property>

  <property name="maxRetry">
    <value>3</value>
  </property>
 </bean>

 <bean id="ncbiDhtRouter" class="edu.ucla.mbi.proxy.router.DhtRouter">
  <property name="dht">
   <ref bean="dht"/>
  </property>

  <property name="maxRetry">
    <value>3</value>
  </property>
 </bean>

 <bean id="mbiDhtRouter" class="edu.ucla.mbi.proxy.router.DhtRouter">
  <property name="dht">
   <ref bean="dht"/>
  </property>

  <property name="maxRetry">
    <value>3</value>
  </property>
 </bean>

 <bean id="dipDhtRouter" class="edu.ucla.mbi.proxy.router.DhtRouter">
  <property name="dht">
   <ref bean="dht"/>
  </property>

  <property name="maxRetry">
    <value>3</value>
  </property>
 </bean>
 
 <!-- reference proxy -->
 <bean id="referenceProxy" init-method="initialize"
       class="edu.ucla.mbi.proxy.RemoteProxyServerNewVersion">
  <property name="address">
   <value>
     http://%%URL%%/dip-proxy-server/proxy-service    
   </value>
  </property>
  <property name="context">
    <map/>
  </property>
 </bean>


 <!-- EBI proxy services -->

 <bean id="ebiReferenceServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.ebi.EbiServer">
  <property name="restUrl">
   <value>
    http://www.uniprot.org/uniprot/%%ACTAG%%.xml
   </value>
<!--     http://www.ebi.ac.uk/Tools/webservices/rest/dbfetch/uniprotkb/%%ACTAG%%/uniprotxml -->
  </property>
  <property name="restAcTag">
     <value>%%ACTAG%%</value>
  </property>
  <property name="context">
    <map>

      <entry key="uniprotEndpoint">  
        <value>http://www.uniprot.org/uniprot/%%ACTAG%%.xml</value>
      </entry>

      <entry key="picrEndpoint">  
        <value>http://www.ebi.ac.uk/Tools/picr/service</value>
      </entry>
      <entry key="searchDbList">
       <list>
        <value>SEGUID</value>
        <value>SWISSPROT</value>
        <value>SWISSPROT_VARSPLIC</value>
        <value>REFSEQ</value>
        <value>TREMBL</value>
        <value>TREMBL_VARSPLIC</value>
        <value>FLYBASE</value>
        <value>PIR</value>
        <value>SGD</value>
        <value>TAIR_ARABIDOPSIS</value>
        <value>PDB</value>
        <value>WORMBASE</value>
       </list>
      </entry>
    </map>
  </property>
 </bean>
 
 <!-- NCBI proxy services -->
 
 <bean id="ncbiReferenceServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.ncbi.NcbiServer">

  <property name="context">
    <map/>
  </property>
 </bean>


 <!-- Prolinks proxy services -->
 
 <bean id="prlReferenceServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.prolinks.ProlinksServer">
  <property name="restUrl">
   <value>
    <!--http://codd.mbi.ucla.edu/prolinks/query_prolinks.php?pid=%%ACTAG%% -->
    http://prl.mbi.ucla.edu/prlbeta/php_dip_service?id=%%ACTAG%%
   </value>
  </property>
  <property name="restAcTag">
     <value>%%ACTAG%%</value>
  </property>

  <property name="ncbiProxy">
   <value>
     <!--http://dip.doe-mbi.ucla.edu/dip-proxy/ncbi-service -->
    <!-- temporary address -->
    http://10.1.1.201:8080/dip-proxy-server/proxy-service
   </value>  
  </property>
  <property name="context">
    <map/>
  </property>
 </bean>
 
 <!-- DIP proxy services -->

 <bean id="dipReferenceServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.dip.DipServer">

  <property name="context">
    <map>
      <entry key="endpoint">
        <value>http://dip.doe-mbi.ucla.edu/dip-legacy/dxf</value>
      </entry>
    </map>
  </property>

 </bean>

 <!-- Old proxy services -->
 <bean id="ebiReferenceProxy" init-method="initialize"
       class="edu.ucla.mbi.proxy.ebi.EbiProxy">
  <property name="address">
   <value>
     http://%%URL%%/dip-proxy/ebi-service
   </value>
  </property>
  <property name="context">
    <map/>
  </property>
 </bean>

 <bean id="ncbiReferenceProxy" init-method="initialize"
       class="edu.ucla.mbi.proxy.ncbi.NcbiProxy">
  <property name="address">
   <value>
     http://%%URL%%/dip-proxy/ncbi-service
   </value>
  </property>
  <property name="context">
    <map/>
  </property>
 </bean>

 <bean id="prlReferenceProxy" init-method="initialize"
       class="edu.ucla.mbi.proxy.prolinks.ProlinksProxy">
  <property name="address">
   <value>
     http://%%URL%%/dip-proxy/prolinks-service
   </value>
  </property>
  <property name="context">
    <map/>
  </property>
 </bean>

 <bean id="dipReferenceProxy" init-method="initialize"
       class="edu.ucla.mbi.proxy.dip.DipProxy">
  <property name="address">
   <value>
     http://%URL%%/dip-proxy/dip-service
   </value>
  </property>
  <property name="context">
    <map/>
  </property>
 </bean>
 
</beans>
