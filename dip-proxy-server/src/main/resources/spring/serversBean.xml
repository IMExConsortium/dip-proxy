<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="
      http://www.springframework.org/schema/beans 
      http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
    
      http://www.springframework.org/schema/tx 
      http://www.springframework.org/schema/tx/spring-tx-2.0.xsd
      
      http://www.springframework.org/schema/aop 
      http://www.springframework.org/schema/aop/spring-aop-2.0.xsd">

 <!-- distributed hash configuration -->

 <bean id="dht" class="edu.ucla.mbi.proxy.router.Dht" 
       init-method="initialize" destroy-method="cleanup">
<!-- 
  <property name="overlayMode" value="networked" />
-->

  <property name="overlayMode" value="standalone" />

  <property name="routingAlgorithm">
    <value>Chord</value>
  </property>

  <property name="proxyPort">
    <value>50610</value>
  </property>

  <property name="bootServers">
    <list>
<!--     
     <value>10.1.1.204</value> 
     <value>10.1.1.205</value>
     <value>10.1.1.206</value>
     <value>10.1.1.207</value>
-->
     <value>128.97.39.180</value>
    </list>
  </property>

 </bean>

 <bean id="ebiDhtRouter" class="edu.ucla.mbi.proxy.router.DhtRouter">
  <property name="dht">
   <ref bean="dht"/>
  </property>

  <property name="maxRetry">
    <value>3</value>
  </property>
 </bean>

 <bean id="ncbiDhtRouter" class="edu.ucla.mbi.proxy.router.DhtRouter">
  <property name="dht">
   <ref bean="dht"/>
  </property>

  <property name="maxRetry">
    <value>3</value>
  </property>
 </bean>

 <bean id="mbiDhtRouter" class="edu.ucla.mbi.proxy.router.DhtRouter">
  <property name="dht">
   <ref bean="dht"/>
  </property>

  <property name="maxRetry">
    <value>3</value>
  </property>
 </bean>

 <bean id="dipDhtRouter" class="edu.ucla.mbi.proxy.router.DhtRouter">
  <property name="dht">
   <ref bean="dht"/>
  </property>

  <property name="maxRetry">
    <value>3</value>
  </property>
 </bean>

 <bean id="yeastMineDhtRouter" class="edu.ucla.mbi.proxy.router.DhtRouter">
  <property name="dht">
   <ref bean="dht"/>
  </property>

  <property name="maxRetry">
    <value>3</value>
  </property>
 </bean>
 
 <!-- reference proxy -->
 <bean id="referenceProxy" init-method="initialize"
       class="edu.ucla.mbi.proxy.RemoteProxyServer">
  <property name="address">
   <value>
     http://%%URL%%/dip-proxy-server/proxy-service    
   </value>
  </property>
  <property name="context">
    <map/>
  </property>
 </bean>


 <!-- EBI proxy services -->
 
 <bean id="ebiReferenceServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.ebi.EbiServer">

  <property name="context">
    <map>
      <entry key="uniprotRestServer">
        <ref bean="uniprotRestServer"/>
      </entry>
      
      <entry key="picrEndpoint">  
        <value>http://www.ebi.ac.uk/Tools/picr/service</value>
      </entry>
      
      <entry key="searchDbList">
       <list>
        <value>SEGUID</value>
        <value>SWISSPROT</value>
        <value>SWISSPROT_VARSPLIC</value>
        <value>REFSEQ</value>
        <value>TREMBL</value>
        <value>TREMBL_VARSPLIC</value>
        <value>FLYBASE</value>
        <value>PIR</value>
        <value>SGD</value>
        <value>TAIR_ARABIDOPSIS</value>
        <value>PDB</value>
        <value>WORMBASE</value>
       </list>
      </entry>
    </map>
  </property>
 </bean>

 <!-- NCBI proxy services -->
 
 <bean id="ncbiReferenceServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.ncbi.NcbiServer">

  <property name="context">
    <map>
      <entry key="nlmEsearchRestServer">
        <ref bean="nlmEsearchRestServer"/>
      </entry>
      <entry key="nlmEfetchRestServer">
        <ref bean="nlmEfetchRestServer"/>
      </entry>
      <entry key="pubmedRestServer">
        <ref bean="pubmedRestServer"/>
      </entry>
      <entry key="refseqRestServer">
        <ref bean="refseqRestServer"/>
      </entry>
      <entry key="entrezgeneRestServer">
        <ref bean="entrezgeneRestServer"/>
      </entry>
      <entry key="taxonRestServer">
        <ref bean="taxonRestServer"/>
      </entry>
    </map>
  </property>
 </bean>


 <!-- Prolinks proxy services -->
 
 <bean id="prlReferenceServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.prolinks.ProlinksServer">
  <property name="context">
    <map>
        <entry key="prolinksRestServer">
            <ref bean="prolinksRestServer"/>
        </entry>
        <entry key="ncbiProxyAddress">
            <!--<value>http://dip.doe-mbi.ucla.edu/dip-proxy/ncbi-service</value> -->
            <value> http://10.1.1.201:8080/dip-proxy-server/proxy-service</value>
        </entry>
    </map> 
  </property>
 </bean>
 
 <!-- DIP proxy services -->

 <bean id="dipReferenceServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.dip.DipServer">

  <property name="context">
    <map>
      <entry key="dipLegacyEndpoint">
        <value>http://dip.doe-mbi.ucla.edu/dip-legacy/dxf</value>
      </entry>

      <entry key="dipEndpoint">
        <value>http://10.1.1.203:8080/dip-database-server/dxf-service</value>
      </entry>
    </map>
  </property>

 </bean>

 <!-- yeastmine rest server -->
 
 <bean id="yeastMineReferenceServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.NativeRestServer">

  <property name="restUrl">
   <value>
    <!-- http://yeastmine.yeastgenome.org/yeastmine/service/query/results?query=&lt;query+name=""+model="genomic"+view="Gene.symbol+Gene.secondaryIdentifier+Gene.proteins.secondaryIdentifier+Gene.proteins.symbol"&gt;&lt;constraint+path="Gene.symbol"+op="="+value="%%ACTAG%%"/&gt;&lt;/query&gt;&amp;format=xml  -->
     
    http://yeastmine.yeastgenome.org/yeastmine/service/query/results?query=&lt;query+name=""+model="genomic"+view="Gene.name+Gene.symbol+Gene.secondaryIdentifier+Gene.organism.name+Gene.organism.taxonId+Gene.organism.species"&gt;&lt;constraint+path="Gene.symbol"+op="="+value="%%ACTAG%%"/&gt;&lt;/query&gt;&amp;format=xml

   </value>
  </property>
  <property name="restAcTag">
     <value>%%ACTAG%%</value>
  </property>
 </bean>

 <!-- uniprot rest server -->

 <bean id="uniprotRestServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.NativeRestServer">
    <property name="restUrl">
        <value>
            http://www.uniprot.org/uniprot/%%ACTAG%%.xml
        </value>
    </property>
    <property name="restAcTag">
        <value>%%ACTAG%%</value>
    </property>
 </bean>

 <!-- prolinks rest server -->
 
 <bean id="prolinksRestServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.NativeRestServer">
    <property name="restUrl">
        <value>
            <!--http://codd.mbi.ucla.edu/prolinks/query_prolinks.php?pid=%%ACTAG%% -->
            http://prl.mbi.ucla.edu/prlbeta/php_dip_service?id=%%ACTAG%%
        </value>
    </property>
    <property name="restAcTag">
        <value>%%ACTAG%%</value>
    </property>
  </bean>

 <!-- pubmed rest server -->

 <bean id="pubmedRestServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.NativeRestServer">
    <property name="restUrl">
        <value>
            http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;retmode=xml&amp;id=%%ACTAG%%
        </value>
    </property>
    <property name="restAcTag">
        <value>%%ACTAG%%</value>
    </property>
  </bean>

 <!-- refseq rest server -->

 <bean id="refseqRestServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.NativeRestServer">
    <property name="restUrl">
        <value>
            http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=protein&amp;id=%%ACTAG%%&amp;rettype=gpc&amp;retmode=xml
        </value>
    </property>
    <property name="restAcTag">
        <value>%%ACTAG%%</value>
    </property>
  </bean>

 <!-- entrezgene rest server -->

 <bean id="entrezgeneRestServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.NativeRestServer">
    <property name="restUrl">
        <value>
            "http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=gene&amp;id=%%ACTAG%%&amp;retmode=xml
        </value>
    </property>
    <property name="restAcTag">
        <value>%%ACTAG%%</value>
    </property>
 </bean>

 <!-- taxon rest server -->

 <bean id="taxonRestServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.NativeRestServer">
    <property name="restUrl">
        <value>
            http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=taxonomy&amp;id=%%ACTAG%%&amp;retmode=xml
        </value>
    </property>
    <property name="restAcTag">
        <value>%%ACTAG%%</value>
    </property>
 </bean>

 <!-- nlm esearch rest server -->

 <bean id="nlmEsearchRestServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.NativeRestServer">
    <property name="restUrl">
        <value>
            http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=nlmcatalog&amp;retmode=xml&amp;term=%%ACTAG%%[nlmid]
        </value>
    </property>
    <property name="restAcTag">
        <value>%%ACTAG%%</value>
    </property>
 </bean>

 <!-- nlm efetch rest server -->

 <bean id="nlmEfetchRestServer" init-method="initialize"
       class="edu.ucla.mbi.proxy.NativeRestServer">
    <property name="restUrl">
        <value>
            http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=nlmcatalog&amp;retmode=xml&amp;id=%%ACTAG%%
        </value>
    </property>
    <property name="restAcTag">
        <value>%%ACTAG%%</value>
    </property>
 </bean>

</beans>
